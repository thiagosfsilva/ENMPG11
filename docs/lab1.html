<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Lab 1 - QGIS overview and file management | ENMPG11 Geomatics - Module Workbook</title>
  <meta name="description" content="Workbook for the ENMPG11 Geomatics Graduate Module at University of Stirling." />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Lab 1 - QGIS overview and file management | ENMPG11 Geomatics - Module Workbook" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Workbook for the ENMPG11 Geomatics Graduate Module at University of Stirling." />
  <meta name="github-repo" content="thiagosfsilva/ENMPG11" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Lab 1 - QGIS overview and file management | ENMPG11 Geomatics - Module Workbook" />
  
  <meta name="twitter:description" content="Workbook for the ENMPG11 Geomatics Graduate Module at University of Stirling." />
  

<meta name="author" content="Thiago Silva" />


<meta name="date" content="2020-01-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="outline.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="toc.css" type="text/css" />
<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ENMPG11 Workbook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a></li>
<li class="chapter" data-level="1" data-path="outline.html"><a href="outline.html"><i class="fa fa-check"></i><b>1</b> Module Outline and General Info</a><ul>
<li class="chapter" data-level="1.1" data-path="outline.html"><a href="outline.html#staff-and-communication"><i class="fa fa-check"></i><b>1.1</b> Staff and Communication:</a></li>
<li class="chapter" data-level="1.2" data-path="outline.html"><a href="outline.html#about-the-module"><i class="fa fa-check"></i><b>1.2</b> About the Module</a></li>
<li class="chapter" data-level="1.3" data-path="outline.html"><a href="outline.html#intended-learning-outcomes-ilos"><i class="fa fa-check"></i><b>1.3</b> Intended Learning Outcomes (ILO’s):</a></li>
<li class="chapter" data-level="1.4" data-path="outline.html"><a href="outline.html#readings-and-resources"><i class="fa fa-check"></i><b>1.4</b> Readings and Resources</a></li>
<li class="chapter" data-level="1.5" data-path="outline.html"><a href="outline.html#attendance-and-points-of-contact"><i class="fa fa-check"></i><b>1.5</b> Attendance and Points of Contact</a></li>
<li class="chapter" data-level="1.6" data-path="outline.html"><a href="outline.html#class-schedule-and-structure"><i class="fa fa-check"></i><b>1.6</b> Class Schedule and Structure</a></li>
<li class="chapter" data-level="1.7" data-path="outline.html"><a href="outline.html#assessment-and-grading"><i class="fa fa-check"></i><b>1.7</b> Assessment and Grading</a><ul>
<li class="chapter" data-level="" data-path="outline.html"><a href="outline.html#hands-on-problems-50-of-final-grade"><i class="fa fa-check"></i>1) Hands-on problems (50% of final grade)</a></li>
<li class="chapter" data-level="" data-path="outline.html"><a href="outline.html#final-individual-project-50-of-the-final-grade"><i class="fa fa-check"></i>2) Final individual project (50% of the final grade)</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="outline.html"><a href="outline.html#module-timetable-and-dates"><i class="fa fa-check"></i><b>1.8</b> Module Timetable and Dates</a></li>
<li class="chapter" data-level="1.9" data-path="outline.html"><a href="outline.html#other-relevant-information"><i class="fa fa-check"></i><b>1.9</b> Other Relevant Information</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="lab1.html"><a href="lab1.html"><i class="fa fa-check"></i><b>2</b> Lab 1 - QGIS overview and file management</a><ul>
<li class="chapter" data-level="2.1" data-path="lab1.html"><a href="lab1.html#GE1"><i class="fa fa-check"></i><b>2.1</b> Guided Exercise 1 - A simple GIS workflow</a><ul>
<li class="chapter" data-level="2.1.1" data-path="lab1.html"><a href="lab1.html#creating-a-project-structure"><i class="fa fa-check"></i><b>2.1.1</b> 1 - Creating a project structure</a></li>
<li class="chapter" data-level="2.1.2" data-path="lab1.html"><a href="lab1.html#creating-a-qgis-project"><i class="fa fa-check"></i><b>2.1.2</b> 2 - Creating a QGIS project</a></li>
<li class="chapter" data-level="2.1.3" data-path="lab1.html"><a href="lab1.html#styling-your-layers-and-producing-a-simple-map"><i class="fa fa-check"></i><b>2.1.3</b> 3. Styling your layers and producing a simple map</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown"target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ENMPG11 Geomatics - Module Workbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lab1" class="section level1">
<h1><span class="header-section-number">2</span> Lab 1 - QGIS overview and file management</h1>
<div id="GE1" class="section level2">
<h2><span class="header-section-number">2.1</span> Guided Exercise 1 - A simple GIS workflow</h2>
<p>The purpose of this exercise is to give you a general overview of proper GIS workflow, from start to end. Throughout the module, your exercises and projects wil become more complex, but the general workflow will not change. Getting used to having proper project and file management habits from the start is the <strong>best</strong> thing you can learn. Speaking as someone whi has been teaching and working with Geomatics for more than a decade, poor file/project managemnt is the underlying cause of at least 50% of the GIS problems you may encounter.</p>
<div id="creating-a-project-structure" class="section level3">
<h3><span class="header-section-number">2.1.1</span> 1 - Creating a project structure</h3>
<p>GIS projects generate a lot of different files quickly, so project organization is <strong>essential</strong>. The steps below are my suggestion for organizing GIS projects files and associated data. Once you get comfortable managing your own projects, feel free to change the proposed structure to something that best suits your own workflow.</p>
<ol style="list-style-type: decimal">
<li>Create a folder on your computer called <code>ENMPG11</code>, off of the main data drive. For <strong>Windows</strong>, this will be <code>C:</code> in most cases, unless you have separate disk drives. For <strong>Linux</strong> and <strong>Mac</strong>, create it on you <code>home</code> drive.</li>
</ol>
<div class="figure">
<img src="images/lab1_fig3_wincfolder.png" alt="Windows C:" />
<p class="caption"><strong>Windows C:</strong></p>
</div>
<div class="figure">
<img src="https://nektony.com/wp-content/uploads/2018/02/home-folder-mac.jpg" alt="mac OS home" />
<p class="caption"><strong>mac OS home</strong></p>
</div>
<div class="figure">
<img src="https://www.howtogeek.com/wp-content/uploads/2014/05/00_lead_image_home_directory.png" alt="Ubuntu home" />
<p class="caption"><strong>Ubuntu home</strong></p>
</div>
<ol start="2" style="list-style-type: decimal">
<li><p>Inside the ENPG11 folder, create a subfolder called <code>lab_1</code></p></li>
<li><p>Inside <code>lab_1</code>, create the following folder structure:</p></li>
</ol>
<p><img src="images/lab1_fig4_folder_structure.png" /></p>
<p>This is the most “barebones” project structure you can have. The folders will bee used as follows:</p>
<ul>
<li><p><code>00_qgis</code>: we will use this folder to save our QGIS project files.</p></li>
<li><p><code>01_raw_data</code>: this folder will keep all the original data files you are working with. This way you can always go back to the start if something goes wrong. We use the subfoldrrs <code>vector</code> and <code>raster</code> to easily know which data type we are working with. You should create additional subfolders inside each folder to keep things organized as you go.</p></li>
<li><p><code>02_processing</code>: here we will keep all th files you generate as part of your work. Make ample use of subfolders to identify each step of the workflow.</p></li>
<li><p><code>03_final_products</code>: here we will keep the final products of our intended analysis. This makes it easy for us to find the latest version of our intended outputs, without risking using intremediate files instead</p></li>
<li><p><code>04_docs</code>: here we will keep all our <em>non-GIS</em> files. In the <code>notes</code> folder, you can keep a simple text file documenting the project steps as you work in it. You can also keeo important referece images here. In <code>images</code>, you can save any image that illustrates the steps you made, or maps you have produced. You can add other subfolders such as <code>report</code> if you are writing a report about your project, and keep the report file in there.</p></li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Organize the data you’ve downloaded previosuly during the instructor-led QGIS exploration into your projec folder. The terrain data folder goes into <code>raster</code>, the roads data goes into <code>vector</code>, and the <code>.txt</code> metadata files go into <code>docs/notes</code>. You can keep the data into the originalfolders they came in, for easy identification:</li>
</ol>
<p><img src="images/lab1_fig5_folderorg.png" /></p>
</div>
<div id="creating-a-qgis-project" class="section level3">
<h3><span class="header-section-number">2.1.2</span> 2 - Creating a QGIS project</h3>
<p>A QGIS project is an <em>index</em> file that will remember all the data layers you have loaded, their stacking order, the styling of each layer, and some other information, such as a default map projection and datum. It will also keep any map layouts that you create.</p>
<ul>
<li>Create a new project in QGIS by clicking on <code>Project &gt; New...</code> or pressing <em>Ctrl-N</em>:</li>
</ul>
<p><img src="images/lab1_fig1_newproject.png" width="75%" style="display: block; margin: auto;" /></p>
<ul>
<li><p>Add the layers <code>NS_RoadLink.shp</code> and <code>NS89.asc</code> from your organized project folder (terrain and roads) to your project.</p></li>
<li><p>Save your project. Click on the Save button and give your project a name, nd save it on <code>ENMPG11/lab_1/00_qgis</code>.</p></li>
<li><p>Open the project settings by clicking on <code>Project &gt; Properties...</code>. You will see this window:</p></li>
</ul>
<p><img src="images/lab1_fig2_projprops.png" width="75%" style="display: block; margin: auto;" />
- The main thing to set on your new project are the project home folder, the base map projection info and the measurement units.</p>
<ul>
<li><p>For the project home on the <code>General</code> tab, select the <code>lab_1</code> folder. This helps navigating when opening and saving data.</p></li>
<li><p>For measurement units, make sure distance units are set in meters, and area units in squared meters, also on the <code>General</code> tab.</p></li>
<li><p>For base projection, go to the <code>CRS</code> tab and search for <strong>OSGB 1936 British National Grid</strong>, identified by the <em>EPSG code</em> 7405. EPSG stands for “European Petroleum Survey Group”, and designates a parameter database with standard codes for geodesic information. Over time, you will propbably memorize the EPSG codes for the projections you use more often, making it easy to search for Select it by clicking on it.</p></li>
<li><p>Save your project by clicking on the <em>Save</em> button, or going to <code>Project &gt; Save</code>, or by typing <code>Ctrl+S</code> simultaneously.</p></li>
</ul>
</div>
<div id="styling-your-layers-and-producing-a-simple-map" class="section level3">
<h3><span class="header-section-number">2.1.3</span> 3. Styling your layers and producing a simple map</h3>
<ol style="list-style-type: decimal">
<li><p>Select the <code>NS89</code> layer on the <em>Layers</em> side panel, and drag it to the bottom if not already.</p></li>
<li><p>Turn the roads layer off for now.</p></li>
<li><p>Right-click on the layer name and choose <code>Rename layer</code>. Rename it to <code>Digital Elevation Model (50m)</code>. Open the file exlplorer in your system, and look for the <code>NS89.asc</code> file you have saved before.</p></li>
</ol>
<p><strong>Stop and think:</strong> wil changing a layer name in the layer panel also change the name of the source data file for that layer?</p>
<ol start="4" style="list-style-type: decimal">
<li><p>Right clik on the terrain layer and choose <code>Zoom to Layer</code>. This is always a handy tool to “find yourself” if you end up zooming or panning the map too far. Pick a layer that covers most of your intended work area and zoom to it. (Advanced: you can also set a <em>Spatial Bookmark</em> by going to <code>View &gt; New Spatial Bookmark...(Ctrl + B)</code>. You bookmarks will show on your <em>Browser</em> side panel, below your <em>Favorites</em>).</p></li>
<li><p>Right click on the terrain layer name and select <code>Properties...</code>, then go to the <code>Symbology</code> tab. Select <code>Rendering type</code> to be <code>Single Band Pseudocolor</code>, and <code>Color Ramp</code> as <code>spectral</code>. Click again on the down arrow button to the right of the <code>Color Ramp</code> box, and select <code>Invert Color Ramp</code>, so that the minimum heights are colored blue. Then click <code>Ok</code>. Save your project.</p></li>
<li><p>Rename the <code>NS_RoadLink</code> layer to <code>Road Network</code>. Go to its Symbology properties and click on <code>Simple Line</code>. Change the line color to a mid-grey, and the line width to 0.3. Click <code>Ok</code>. Reactivate the layer to visualise it.</p></li>
<li><p>Go to the <code>Vector</code> menu and select <code>Research Tools &gt; Extract Layer Extent...</code>. Select the terrain layer as your <code>Input layer</code>, and click <code>Run</code> to generate a <em>temporary layer</em>. This layer will not be kept once you close QGIS, unless you save it manually later. <strong>The window will not close automatically</strong> once you run, so remember to click on <code>Close</code> when you are done.</p></li>
<li><p>Go to <code>Vector &gt; Geoprocessing Tools &gt; Clip...</code>. Select the roads layer as the <code>Input Layer</code> and the new temporary layer as the <code>Overlay Layer</code>. This time, we will save the output. Click on the <code>...</code> button to tle right of the <code>Clipped</code> box, and then choose <code>Save to file</code>. Save your new layer on <code>ENMPG11/lab_1/procs=essing</code>, naming it <code>clipped_roads.shp</code>. Make sure the <code>SHP file</code> format is selected below the file name.</p></li>
<li><p>Tur off the original roads layer on and off to see the result of your operation. Then right-click on the original roads layer, and select <code>Styles &gt; Copy Style &gt; All Style Categories</code>. Then right click on the new (clipped) roads layer and select `Styles &gt; Paste Style &gt; All Style Categories. Remove the original roads layer from your project and save the project. Close QGIS.
<strong>Stop and think:</strong> what does the warning given by QGIS when you try to close it means?</p></li>
<li><p>Reopen QGIS, and load back your project. Notice it is exaclty as you last saved, including zoom level. If the “Extent” layer still shows on the side panel, remove it.</p></li>
<li><p>Click on <code>Project &gt; New Map Layout</code> and name it <code>Lab 1 Layout</code>. A new window will open with the QGIS Layout Editor.</p></li>
<li><p>Add a new map to the layout by clicking on the <img src="https://docs.qgis.org/testing/en/_images/mActionAddMap.png" /> icon. Drag it through the page so it covers about 2/3 of it horizontally.</p></li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="outline.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["ENMPG11.pdf", "ENMPG11.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
