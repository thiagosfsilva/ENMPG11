---
output:
  html_document: default
---
# Lab 3 - Working with vector data - Geoprocessing Tools {#lab3}

```{block type='rmdwarning'}
(STILL INCOMPLETE, BEAR WITH ME )
```
During the previous lab, we looked at how to solve probles using vector attributes, making selections based on both attribute values and on spatial relations.

For this exercise, we will learn how to do operations on the vector geometries instead.

## Guided Exercise 1 - Clipping data

1. Dowload the data for this exercise from the link below, then extract the zipfiles. 


2. Load all datasets in QGIS and inspect them:
    
```{block type='rmdnote'}
**Stop and think:** 

- What are the datasets you have?

- What are the file *types* you have to work with?

- What are the file *formats* you have to work with?

- What is the *Map Projection* of each data layer you have?
```

3. Load the Scotland regions vector layer and the Scotland Roads vector layer.

4. Select only the polygon corresponding to Central Scotland. You can do it using either the selection tool (![]()) or by using the Attribute Table, using the skills you've learned on the previous practical.

5. Right click on the Scottish Regions layer name and select `Export > Save file as...`. Select the format as Geopackage, the `file name` as `central_scotland`, and the `layer name` as `central_scotland_limits`. **Check the box that says `selected features only`**.

```{block type='rmdnote'}
**Stop and think:** why did we have to specify both a file name d a layer name in this case?
```
6. Now remove the Scotland Regions layer, and open the Scotland Road Links layer from the initial Geopackage file. Visualize and inspect the layer, and how it overlaps with the Central Region polygon you have created.

7. Go to `Vector > Geoprocessing > Clip...`. Select the roads layer as your input layer, and the Central Scotland region as your overlay layer. Leave everything else as default and `Run`. Once it is finished, `Close` the window. 

```{block type='rmdnote'}
**Stop and think:** what would happen if you closed you QGIS session while having temporary layers on your project?
```
8. Right click on the newly created temporary layer, then go to `Export > Save data as...`. Keep the geopackage format, and select the same central_scotland geopackage you created before. **Specifiy the layer name as `central_scotland_roadlinks`. Save.

9. On your Browser side pane, click on the refresh button (), and then expand the layers inside your `central_scotland.gpkg` file. What are the layers inside?

10. Repeat the clipping process done for the roads on the Scotland rivers layer on the initial Scotland geopackage. This time, instead of saving to a temporary file, click on `...` to the right of the file name box, and select `Save to Geopackage...`. Pick your Central Scotland geopackage and when the layer name window pops up, name it `central_scotland_rivers`. Once done, refresh the Browser and check the contents of your Central Scotland geopackage again.

11. Finally, open the 
